ChangeLog

2007-09-05 hpoussin

- Synchronized with WINE widl 0.9.44
- parser.tab.c/h were generated with:
    bison -p parser_ -d parser.y
- parser.yy.c was generated with:
    flex -t parser.l >parser.yy.c


2007-05-17 ekohl

   tools/widl/lex.yy.c
   tools/widl/parser.l
   tools/widl/typelib.c

- Update wpp and fix the wpp_find_include issue!


2006-07-30 ekohl

- Synchronized with WINE widl 20060729.

  The only difference is one call to wpp_find_include in parser.l.
  We'll need to fix this issue!


2006-02-27 ekohl

   tools/widl/client.c
   tools/widl/server.c

- Dereference type declarations properly.

2006-02-27 ekohl

   tools/widl/client.c
   tools/widl/server.c

- Move proc string offset calculation to a separate function.
- Replace all __FUNCTION__ by __FILE__.

2006-01-01 ekohl

   tools/widl/client.c
   tools/widl/server.c

- Generate static MIDL_PROC_FORMAT_STRING, MIDL_TYPE_FORMAT_STRING and
  MIDL_STUB_DESC variables.

2005-12-05 ekohl

   tools/widl/widl.c
   tools/widl/widl.man

- Change oldnames option from '-o' to '--oldnames'.

2005-11-26 ekohl

   tools/widl/client.c
   tools/widl/server.c

- Allocate another 4 bytes for unique pointers to simple types.

2005-10-16 ekohl

   tools/widl/client.c
   tools/widl/server.c

- Fix [out, size_is, unique] parameter issues.

2005-10-09 ekohl

   tools/widl/client.c
   tools/widl/server.c

- Support [out, unique] base type parameters.

2005-08-07 ekohl

   tools/widl/server.c

- Support size_is(*Length) attributes for strings.

2005-07-30 ekohl

   tools/widl/client.c
   tools/widl/server.c

- Support conformant arrays as in and out parameters.
- Fix message buffer size calculation for client and server.

2005-07-25 ekohl

   tools/widl/client.c
   tools/widl/lex.yy.c
   tools/widl/parser.y
   tools/widl/proxy.c
   tools/widl/server.c
   tools/widl/y.tab.c
   tools/widl/y.tab.h

- Fix grammar of the size_is attribute so that size_is(*Length) gets accepted.

2005-07-23 ekohl

   tools/widl/client.c
   tools/widl/server.c

- Fix offset calculation bug in the ProcFormatString.
- Fix offset calculation bug in the marshalling and unmarshalling code.
- Fix typos in the TypeFormatString.
This makes the [string, out, size_is()] parameters work properly.

2005-07-17 ekohl

   tools/widl/client.c
   tools/widl/server.c

Fix bugs for in-string parameters.
Implement out-string parameters (untested).

2005-05-08 weiden

   tools/widl/server.c

Don't generate lvalue assignment code.

2005-05-08 weiden

   tools/widl/client.c
   tools/widl/proxy.c
   tools/widl/server.c

Generate code GCC4.x accepts.

2005-04-18 navaraf

   tools/widl/parser.y

Don't use pointer to freed memory.

2005-04-17 ekohl

   tools/widl/server.c

Support out-pointers to structs.

2005-04-15 ekohl

   tools/widl/client.c
   tools/widl/parser.y
   tools/widl/server.c

Support in-pointers to structs.

2005-04-03 ekohl

   tools/widl/client.c
   tools/widl/parser.l
   tools/widl/parser.y
   tools/widl/server.c
   tools/widl/widltypes.h

Support 'ref' and 'unique' attributes for pointers.

2005-03-27 Jacek Caban (from WINE)

  tools/widl/parser.y
  tools/widl/y.tab.c

Added handling of unsigned type

2005-03-25 ekohl

   tools/widl/client.c
   tools/widl/server.c

Generate code without L-value casts. Fix remaining issues.

2005-03-21 navaraf

   tools/widl/client.c

Fix a typo in write_function_stubs.

2005-03-20 navaraf

   tools/widl/client.c
   tools/widl/server.c

Generate code without L-value casts.

2005-03-20 ekohl

   tools/widl/client.c
   tools/widl/server.c

Improve error messages.
Don't start counting the type_offset for each new fuction. It is a global offset.
Use only basic types in type- and proc-strings (e.g. unsigned long -> long).


2005-03-13 ekohl

   tools/widl/server.c

Remove debug printf().


2005-03-13 jimtabor

   tools/widl/write_msft.c

Fixup *nix port, added include fcntl.h and unistd.h.


2005-03-13 royce3

   tools/widl/hash.c
   tools/widl/Makefile
   tools/widl/write_msft.c

-Wall -Werror and fix warnings


2005-03-13 ekohl

   tools/widl/client.c
   tools/widl/server.c

Implement [string] attribute for pointers to char and wchar_t.


2005-03-12 ekohl

   tools/widl/client.c
   tools/widl/server.c

Implement [in], [out] and [in, out] support for pointers to basic types.


2005-03-10 ekohl

   tools/widl/client.c
   tools/widl/header.c
   tools/widl/server.c
   tools/widl/widl.c
   tools/widl/widl.h

Implement '-o' option. This is equivalent to MIDLs '/oldnames' option.


2005-03-06 ekohl

   tools/widl/client.c
   tools/widl/header.c
   tools/widl/header.h
   tools/widl/server.c

Support pointers to simple types as input arguments.


2005-02-27 sedwards

  tools/widl/y.tab.c
  tools/widl/parser.y
  tools/widl/widl.c
  tools/widl/widl.h
  tools/widl/server.c
  tools/widl/typelib.c

Merge in Winehq changes to reduce noise.

  tools/widl/server.h
  tools/widl/client.h
  tools/widl/proxy.h

Deleted unneeded headers.

2005-02-26 ekohl
  tools/widl/server.c

Server stubs are void functions.
Fix a warning in the server stub descriptor.


2005-02-25 ekohl
  tools/widl/client.c
  tools/widl/header.c
  tools/widl/header.h
  tools/widl/server.c

Support multiple interfaces per idl file.
Support explicit binding handles.


2005-02-24 ekohl
  include/wine/rpcfc.h
  tools/widl/client.c
  tools/widl/header.c
  tools/widl/parser.l
  tools/widl/parser.y
  tools/widl/server.c

Support remaining basic types (float, double, small, wchar_t and handle_t).
