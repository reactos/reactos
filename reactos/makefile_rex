#
# Global makefile
#

#
# Select your host
#
#HOST = djgpp-linux
#HOST = mingw32-linux
HOST = djgpp-msdos
#HOST = mingw32-windows

include rules.mak

#
# Required to run the system
#
COMPONENTS = iface_native ntoskrnl kernel32 ntdll crtdll mingw32

#
# Select the server(s) you want to build
#
SERVERS = win32 posix linux os2

#
# Select the loader(s) you want to build
#
LOADERS = dos

#
# Select the device drivers and filesystems you want
#
KERNEL_SERVICES = parallel keyboard blues null mouse serial sound ide test sdisk \
                  minix vfat ext2
		  
APPS = hello shell args

all: $(COMPONENTS) $(LOADERS) $(KERNEL_SERVICES) $(APPS)

clean: dummy
	make -C iface/native clean

#
# Applications
#
hello: dummy
	make -C apps/hello

args: dummy
	make -C apps/args

cmd: dummy
	make -C apps/cmd

shell: dummy
	make -C apps/shell

#
# Interfaces
#
iface_native: dummy
	make -C iface/native

#
# Device driver rules
#
vfat: dummy
	make -C services/fs/vfat
	
sdisk: dummy
	make -C services/dd/sdisk
	
minix: dummy
	make -C services/fs/minix
	
template: dummy
	make -C services/fs/template


ide-test: dummy
	make -C services/dd/ide-test

ide: dummy
	make -C services/dd/ide	

test: dummy
	make -C services/dd/test

test1: dummy
	make -C services/dd/test1

null: dummy
	make -C services/dd/null

parallel: dummy
	make -C services/dd/parallel

keyboard: dummy
	make -C services/dd/keyboard

blues: dummy
	make -C services/dd/blue

mouse: dummy
	make -C services/dd/mouse
	
serial: dummy
	make -C services/dd/serial

sound: dummy
	make -C services/dd/sound

ext2: dummy
	make -C services/fs/ext2

#
# Kernel loaders
#

dos: dummy
	make -C loaders/dos

#
# Required system components
#

ntoskrnl: dummy
	make -C ntoskrnl

kernel32: dummy
	make -C lib/kernel32

ntdll: dummy
	make -C lib/ntdll

crtdll: dummy
	make -C lib/crtdll

mingw32: dummy
	make -C lib/mingw32

dummy:
